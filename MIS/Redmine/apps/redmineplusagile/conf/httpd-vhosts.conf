<VirtualHost *:81>
    ServerName redmineplusagile.example.com
    ServerAlias www.redmineplusagile.example.com
    DocumentRoot "C:\xampp\htdocs\MIS\Redmine/apps/redmineplusagile/htdocs/public"
    <Directory "C:\xampp\htdocs\MIS\Redmine/apps/redmineplusagile/htdocs/public">
        Options -MultiViews
        allow from all
    </Directory>

    RewriteEngine On
    RewriteRule ^/(.*)$ balancer://redmineplusagilecluster%{REQUEST_URI} [P,QSA,L]
    <Proxy balancer://redmineplusagilecluster>
        BalancerMember http://127.0.0.1:3001
        BalancerMember http://127.0.0.1:3002
    </Proxy>
                                    
    Include "C:\xampp\htdocs\MIS\Redmine/apps/redmineplusagile/conf/httpd-app.conf"
</VirtualHost>

<VirtualHost *:444>
    ServerName redmineplusagile.example.com
    ServerAlias www.redmineplusagile.example.com
    DocumentRoot "C:\xampp\htdocs\MIS\Redmine/apps/redmineplusagile/htdocs/public"
    SSLEngine on
    SSLCertificateFile "C:\xampp\htdocs\MIS\Redmine/apps/redmineplusagile/conf/certs/server.crt"
    SSLCertificateKeyFile "C:\xampp\htdocs\MIS\Redmine/apps/redmineplusagile/conf/certs/server.key"
    <Directory "C:\xampp\htdocs\MIS\Redmine/apps/redmineplusagile/htdocs/public">
        Options -MultiViews
        allow from all
    </Directory>

    RewriteEngine On
    RewriteRule ^/(.*)$ balancer://redmineplusagilecluster%{REQUEST_URI} [P,QSA,L]
    <Proxy balancer://redmineplusagilecluster>
        BalancerMember http://127.0.0.1:3001
        BalancerMember http://127.0.0.1:3002
    </Proxy>
                                    
    Include "C:\xampp\htdocs\MIS\Redmine/apps/redmineplusagile/conf/httpd-app.conf"
</VirtualHost>
